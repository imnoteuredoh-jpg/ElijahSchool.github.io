name: Update ads.txt

on:
  schedule:
    # Runs at 00:00 UTC every day
    - cron: '0 0 * * *'
  workflow_dispatch: # Allows you to run it manually if needed

jobs:
  update-ads:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      # Note: ads.txt is now managed manually for Google AdSense
      # If you need to update it, edit the ads.txt file directly
      - name: Verify ads.txt exists
        run: |
          if [ ! -f ads.txt ]; then
            echo "google.com, pub-9261158347206771, DIRECT, f08c47fec0942fa0" > ads.txt
            git config --global user.name 'GitHub Action'
            git config --global user.email 'action@github.com'
            git add ads.txt
            git commit -m "Create ads.txt for Google AdSense"
            git push
          else
            echo "ads.txt already exists"
          fi
